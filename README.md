# FileHash - Enterprise-Grade Encrypted File Storage Service

[![Go Version](https://img.shields.io/badge/Go-1.24-blue.svg)](https://golang.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

**FileHash** ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ JSON –≤ Excel. –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö **Clean Architecture** –∏ **Domain-Driven Design (DDD)**, —Å–ª–µ–¥—É–µ—Ç –≤—Å–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º best practices Go-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production-–æ–∫—Ä—É–∂–µ–Ω–∏–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Å–ª–æ–∏:

```
filehash/
‚îú‚îÄ‚îÄ cmd/app/              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ app/             # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ domain/          # –î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π (entities, interfaces)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity/      # –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/  # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service/     # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ usecase/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (use cases)
‚îÇ   ‚îî‚îÄ‚îÄ infrastructure/  # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —Å–ª–æ–π
‚îÇ       ‚îú‚îÄ‚îÄ database/    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ http/        # HTTP handlers –∏ router
‚îÇ       ‚îú‚îÄ‚îÄ repository/  # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ       ‚îî‚îÄ‚îÄ service/     # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ pkg/                 # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ crypto/         # –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ logger/         # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ validator/      # –í–∞–ª–∏–¥–∞—Ü–∏—è
‚îú‚îÄ‚îÄ api/                # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (OpenAPI)
‚îú‚îÄ‚îÄ deployments/        # Docker, docker-compose –∫–æ–Ω—Ñ–∏–≥–∏
‚îú‚îÄ‚îÄ scripts/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îî‚îÄ‚îÄ test/               # –¢–µ—Å—Ç—ã
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **Domain Layer** (`internal/domain/`): –°–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
2. **Use Case Layer** (`internal/usecase/`): –û—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–∑ domain
3. **Infrastructure Layer** (`internal/infrastructure/`): –†–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–∑ domain (–ë–î, HTTP, storage)
4. **Package Layer** (`pkg/`): –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã, –Ω–µ –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–í–∞–∂–Ω–æ:** SQLite –¥—Ä–∞–π–≤–µ—Ä —Ç—Ä–µ–±—É–µ—Ç CGO. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CGO –≤–∫–ª—é—á–µ–Ω.

#### Windows (PowerShell)

```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod download

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
Copy-Item .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª

# –ó–∞–ø—É—Å–∫ —Å SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
$env:CGO_ENABLED = "1"
$env:APP_ENV = "development"
$env:PORT = "8080"
$env:JWT_SECRET = "devsecret"
go run ./cmd/app

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
.\run.ps1

# –° PostgreSQL
$env:CGO_ENABLED = "1"
$env:DB_TYPE = "postgres"
$env:DATABASE_URL = "postgres://user:pass@localhost:5432/filehash?sslmode=disable"
go run ./cmd/app
```

#### Linux/macOS

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd filehash

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod download

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª

# –ó–∞–ø—É—Å–∫ —Å SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
make run

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
CGO_ENABLED=1 APP_ENV=development PORT=8080 JWT_SECRET=devsecret go run ./cmd/app

# –° PostgreSQL
CGO_ENABLED=1 DB_TYPE=postgres DATABASE_URL=postgres://user:pass@localhost:5432/filehash?sslmode=disable go run ./cmd/app
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ C (gcc/clang), —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ:
- **Windows:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [TDM-GCC](https://jmeubank.github.io/tdm-gcc/) –∏–ª–∏ [MinGW-w64](https://www.mingw-w64.org/)
- **Linux:** `sudo apt-get install build-essential` (Ubuntu/Debian) –∏–ª–∏ `sudo yum groupinstall "Development Tools"` (CentOS/RHEL)
- **macOS:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Xcode Command Line Tools: `xcode-select --install`

### Docker Compose

```bash
# –ó–∞–ø—É—Å–∫ —Å PostgreSQL
cd deployments
docker-compose up --build
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Environment Variables

| Variable | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|----------|----------|--------------|-------------|
| `APP_ENV` | –û–∫—Ä—É–∂–µ–Ω–∏–µ (development/production) | `development` | –ù–µ—Ç |
| `HTTP_HOST` | HTTP host | `0.0.0.0` | –ù–µ—Ç |
| `HTTP_PORT` | HTTP port | `8080` | –ù–µ—Ç |
| `UPLOADS_DIR` | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫ | `uploads` | –ù–µ—Ç |
| `DB_TYPE` | –¢–∏–ø –ë–î (sqlite/postgres) | `sqlite` | –ù–µ—Ç |
| `DATABASE_PATH` | –ü—É—Ç—å –∫ SQLite –ë–î | `data/filehash.db` | –ù–µ—Ç (–¥–ª—è SQLite) |
| `DATABASE_URL` | PostgreSQL connection string | - | –ù–µ—Ç (–¥–ª—è PostgreSQL) |
| `JWT_SECRET` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT | –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è | –ù–µ—Ç* |
| `JWT_TTL_MINUTES` | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞ (–º–∏–Ω—É—Ç—ã) | `15` | –ù–µ—Ç |
| `MAX_UPLOAD_MB` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (MB) | `10` | –ù–µ—Ç |
| `CORS_ORIGINS` | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ CORS origins (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) | `*` (dev) | –ù–µ—Ç |

*–í production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `JWT_SECRET` —è–≤–Ω–æ.

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è PostgreSQL

```env
APP_ENV=production
DB_TYPE=postgres
DATABASE_URL=postgres://user:password@localhost:5432/filehash?sslmode=disable
JWT_SECRET=your-super-secret-key-min-32-chars
CORS_ORIGINS=https://example.com,https://app.example.com
```

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è SQLite

```env
APP_ENV=development
DB_TYPE=sqlite
DATABASE_PATH=data/filehash.db
JWT_SECRET=dev-secret-key
```

## üìã API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### `POST /auth/register`
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Request:**
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**Response:**
```json
{
  "status": "success",
  "user_id": "uuid",
  "token": "jwt_token"
}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Email: –≤–∞–ª–∏–¥–Ω—ã–π email –∞–¥—Ä–µ—Å
- Password: –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤

#### `POST /auth/login`
–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É.

**Request:**
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**Response:**
```json
{
  "status": "success",
  "user_id": "uuid",
  "token": "jwt_token"
}
```

### –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

#### 1. `POST /upload`
–ó–∞–≥—Ä—É–∑–∫–∞ –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞.

**Request:**
- `Content-Type: multipart/form-data`
- `file`: —Ñ–∞–π–ª (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, JPEG/PNG)
- `user_id`: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, max 64 —Å–∏–º–≤–æ–ª–∞)

**Response:**
```json
{
  "status": "success",
  "file_id": "uuid",
  "token": "jwt_token",
  "expires_in": 900,
  "content_type": "image/jpeg",
  "size_bytes": 12345
}
```

#### 2. `GET /image/{id}`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

**Headers:**
- `Authorization: Bearer <token>` (JWT —Ç–æ–∫–µ–Ω –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞)

**Response:**
- Binary image data —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º `Content-Type`

#### 3. `GET /file/{id}/metadata`
–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ –±–µ–∑ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏.

**Headers:**
- `Authorization: Bearer <token>` (JWT —Ç–æ–∫–µ–Ω –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞)

**Response:**
```json
{
  "file_id": "uuid",
  "original_name": "image.jpg",
  "content_type": "image/jpeg",
  "size_bytes": 12345,
  "created_at": "2024-01-01T00:00:00Z",
  "updated_at": "2024-01-01T00:00:00Z"
}
```

#### 4. `DELETE /file/{id}`
–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ –µ–≥–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**Headers:**
- `Authorization: Bearer <token>` (JWT —Ç–æ–∫–µ–Ω –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞)

**Response:**
```json
{
  "status": "success",
  "message": "file deleted"
}
```

#### 5. `GET /files?user_id={id}`
–°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Query Parameters:**
- `user_id`: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

**Response:**
```json
{
  "status": "success",
  "files": [
    {
      "file_id": "uuid",
      "original_name": "image.jpg",
      "content_type": "image/jpeg",
      "size_bytes": 12345,
      "created_at": "2024-01-01T00:00:00Z"
    }
  ],
  "count": 1
}
```

### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

#### 6. `POST /json-to-excel`
–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è JSON –¥–∞–Ω–Ω—ã—Ö –≤ Excel —Ñ–∞–π–ª.

**Request:**
```json
{
  "column1": ["value1", "value2"],
  "column2": ["value3", "value4"]
}
```

**Response:**
```json
{
  "status": "success",
  "excel_id": "uuid",
  "rows": 2,
  "generated_at": "2024-01-01T00:00:00Z"
}
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ endpoints

#### 7. `GET /healthz`
Health check endpoint –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.

**Response:**
```json
{
  "status": "ok",
  "time": "2024-01-01T00:00:00Z"
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã

1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**:
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π email –∏ –ø–∞—Ä–æ–ª—è
   - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º bcrypt
   - JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ email

2. **AES-256-GCM —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —à–∏—Ñ—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–ª—é—á–æ–º

3. **JWT —Ç–æ–∫–µ–Ω—ã**: 
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º
   - –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

4. **Path Traversal Protection**: –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—ã—Ö–æ–¥–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

5. **Rate Limiting**: 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É —Å –æ–¥–Ω–æ–≥–æ IP

6. **Security Headers**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

7. **CORS**: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –¥–æ—Å—Ç—É–ø –∫ API

8. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (email, –ø–∞—Ä–æ–ª—å, user_id, —Ñ–∞–π–ª—ã)

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SQLite –∏ PostgreSQL

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ —Ç–∏–ø–∞ –ë–î —á–µ—Ä–µ–∑ GORM:

- **SQLite**: –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- **PostgreSQL**: –î–ª—è production —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π

–ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GORM AutoMigrate –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **users**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã (email, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å)
- **file_assets**: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- **excel_exports**: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö Excel —Ñ–∞–π–ª–æ–≤

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ë–î

```bash
# SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
DB_TYPE=sqlite DATABASE_PATH=data/filehash.db

# PostgreSQL
DB_TYPE=postgres DATABASE_URL=postgres://user:pass@host:5432/dbname?sslmode=disable
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Go 1.24**: –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **GORM**: ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î (SQLite –∏ PostgreSQL)
- **Chi Router**: HTTP —Ä–æ—É—Ç–µ—Ä
- **Zap**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **JWT (golang-jwt/jwt/v5)**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **bcrypt (golang.org/x/crypto)**: –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **Excelize**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel —Ñ–∞–π–ª–æ–≤
- **SQLite (mattn/go-sqlite3)**: –¢—Ä–µ–±—É–µ—Ç CGO –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

- **Go 1.24+**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Go –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä
- **C –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä**: –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è SQLite –¥—Ä–∞–π–≤–µ—Ä–∞ (gcc/clang)
  - Windows: TDM-GCC –∏–ª–∏ MinGW-w64
  - Linux: build-essential –ø–∞–∫–µ—Ç
  - macOS: Xcode Command Line Tools
- **PostgreSQL** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PostgreSQL –≤–º–µ—Å—Ç–æ SQLite

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
2. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ mock-–æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
4. **–ì–∏–±–∫–æ—Å—Ç—å**: –õ–µ–≥–∫–∞—è –∑–∞–º–µ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ë–î, storage, etc.)
5. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**: –ü–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**FileHash** ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤, –≥–æ—Ç–æ–≤–æ–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production-–æ–∫—Ä—É–∂–µ–Ω–∏–∏.
